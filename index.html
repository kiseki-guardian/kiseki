<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>守護神診断</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: sans-serif; padding: 20px; background: #fff8f0; }
    .question { display: none; }
    .question.active { display: block; }
    .result { display: none; }
    button { padding: 10px 20px; margin: 10px 0; }
  </style>
</head>
<body>

<h1>3問でわかる！あなたを守る神様</h1>

<div id="q1" class="question active">
  <p>Q1. あなたが大切にしたい価値観は？</p>
  <button onclick="answer('A')">調和と平和</button>
  <button onclick="answer('B')">挑戦と成長</button>
  <button onclick="answer('C')">愛と絆</button>
  <button onclick="answer('D')">自由と直感</button>
</div>

<div id="q2" class="question">
  <p>Q2. 困難に直面したとき、あなたの反応は？</p>
  <button onclick="answer('A')">周囲と調整する</button>
  <button onclick="answer('B')">突破を試みる</button>
  <button onclick="answer('C')">気持ちを分かち合う</button>
  <button onclick="answer('D')">直感で動く</button>
</div>

<div id="q3" class="question">
  <p>Q3. 最近のあなたに最も当てはまるテーマは？</p>
  <button onclick="answer('A')">人間関係の調整</button>
  <button onclick="answer('B')">キャリアや目標</button>
  <button onclick="answer('C')">愛情や家庭のこと</button>
  <button onclick="answer('D')">進むべき道がわからない</button>
</div>

<div id="result" class="result">
  <h2>あなたを守る神様は...</h2>
  <p id="godName"></p>
  <p id="message"></p>
  <a href="https://lin.ee/kLy8bJqz" target="_blank">▶ LINEで神託を受け取る</a>
  <br><br>
  <button onclick="location.reload()">もう一度診断する</button>
</div>

<script>
  let answers = [];
  let step = 1;

  function answer(choice) {
    answers.push(choice);
    document.getElementById(`q${step}`).classList.remove('active');
    step++;
    if (step <= 3) {
      document.getElementById(`q${step}`).classList.add('active');
    } else {
      showResult();
    }
  }

  function showResult() {
    let count = {};
    answers.forEach(a => count[a] = (count[a] || 0) + 1);
    let result = Object.entries(count).sort((a, b) => b[1] - a[1])[0][0];

    const gods = {
      A: { name: "アマテラス（太陽神）", message: "内なる輝きと調和を信じて進んでください。" },
      B: { name: "タケミカヅチ（雷神）", message: "行動と突破の時。勇気を出して一歩を踏み出して！" },
      C: { name: "コノハナサクヤ姫", message: "愛と美しさがあなたの力。心を柔らかくして。" },
      D: { name: "スサノオ（海と嵐の神）", message: "あなたには自由と変革の力がある。流れに乗って。" }
    };

    document.getElementById("godName").textContent = gods[result].name;
    document.getElementById("message").textContent = gods[result].message;
    document.getElementById("result").style.display = "block";
  }
</script>

</body>
</html>
